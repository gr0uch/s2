if(void 0===e)var e="slot";if(void 0===t)var t="text";if(void 0===r)var r="html";if(void 0===n)var n="value";if(void 0===i)var i="class";if(void 0===a)var a="attribute";if(void 0===o)var o="data";if(void 0===f)var f="event";if(void 0===v)var v=Symbol("mount");if(void 0===l)var l=Symbol("unmount");if(void 0===s)var s=Symbol("move");if(void 0===u)var u="SLOT";if(void 0===d)var d=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===b)var b=new WeakMap;if(void 0===N)var N=new WeakMap;if(void 0===x)var x=new WeakMap;if(void 0===S)var S={set:W,deleteProperty:W};if(void 0===k)var k={set:L,deleteProperty:L};if(void 0===w)var w=[];if(void 0===A)var A={};if(void 0===M)var M={};function L(e,t,r,n,i){if(G.isDeferred&&!i)return B((function(){return L(e,t,r,n,!0)})),!0;G.debug&&console.log("setIndex",arguments);var a=Number.parseInt(t,10),o=!Number.isNaN(a),f=void 0!==r;if("length"===t)for(var v=e.length-1,l=r;l<=v;l+=1){var s=e[l],u=h.get(s),d=p.get(s);u&&R(u[0],u[1],d,s),delete e[l]}if(!f&&e[t]){var c=e[t],g=h.get(c),N=p.get(c);R(g[0],g[1],N,c),delete e[t]}if(f){if(!o)return Reflect.set(e,t,r,n);if(!e.includes(r)){var x=b.get(n),S=x.parentNode,k=y.get(n),w=O(r,k),A=w[0],M=w[1],W=e[t],E=null,C=e.length-1;for(l=a+1;l<=C&&!(E=e[l]);l+=1);if(W&&!e.find((function(e,t){return e===W&&t!==a}))){var T=h.get(W),D=p.get(W);R(T[0],T[1],D,A)}if(E){var P=h.get(E)[0];S.insertBefore(M,P)}else{var j=h.get(n)[1];S.insertBefore(M,j)}return Reflect.set(e,t,A,n)}var H=e.findIndex((function(e,t){return e===r&&t!==a})),q=e[t],F=m.get(r),I=h.get(r),_=I[0],z=I[1];if(q){var J=h.get(q),K=J[0],Q=J[1],U=m.get(q),V=I[1].nextSibling,X=V.parentNode;if(r!==q){if(F)for(var Y=_.nextSibling;!Y.isSameNode(z);){var Z=Y;Y=Y.nextSibling,F.call(r,Z)}if(U)for(var $=K.nextSibling;!$.isSameNode(Q);){var ee=$;$=$.nextSibling,U.call(q,ee)}for(var te=_;!te.isSameNode(z);){var re=te;te=te.nextSibling,X.insertBefore(re,K)}X.insertBefore(z,K);for(var ne=K;!ne.isSameNode(Q);){var ie=ne;ne=ne.nextSibling,X.insertBefore(ie,V)}X.insertBefore(Q,V)}}else if(F)for(var ae=_.nextSibling;!ae.isSameNode(z);){var oe=ae;ae=ae.nextSibling,F.call(r,oe)}~H&&Reflect.set(e,H,q,n),Reflect.set(e,t,r,n)}return!0}function B(e){return w.length||requestAnimationFrame((function(){for(var e=w.length;w.length;){w.shift()()}return G.debug?console.log("queue flushed",e):null})),w.push(e)}function W(t,r,i,a,o){if(G.isDeferred&&!o)return B((function(){return W(t,r,i,a,!0)})),!0;G.debug&&console.log("setProperty",arguments);var v=d.get(t),l=void 0!==i,s=t[r]!==i,u=v[r],c=null,g=null;if(u)for(var p=u.length,m=0;m<p;m+=1){var h=u[m];if(c=h.node,g=h.type,s||o)if(g in M&&"function"!=typeof i)M[g](c,h.name,i);else if(g===f&&j(t,i,h,a),g===e){var y=P(t,r,i,h,o);if(y)return Reflect.set(t,r,y,a)}g!==n||h.isListening||(c.addEventListener("input",(function(e){return Reflect.set(t,r,e.target.value,a)})),h.isListening=!0)}return l?Reflect.set(t,r,i,a):delete t[r],!0}function E(e,t,r){return null!=r?t in e?e[t]=r:e.setAttribute(t,r):e.removeAttribute(t)}function C(e,t,r){return null!=r?e.dataset[t]=r:delete e.dataset[t]}function T(e,t,r){return r?e.className=Array.isArray(r)?r.split(" "):r:e.removeAttribute("class")}function R(e,t,r,n){var i=e,a=i;for(i=i.nextSibling,a.remove();!i.isSameNode(t);)!function(){var e=i;i=i.nextSibling,r?Promise.resolve(r.call(n,e)).then((function(){return e.remove()})):e.remove()}();return t.remove(),D(n)}function D(e,t){for(var r in e){var n=e[r];"object"==typeof n&&null!==n&&D(n,!0)}if(t){var i=p.get(e);return i?i.call(e):null}}function P(e,t,r,n,i){if(G.debug&&console.log("setSlot",arguments),(e[t]||r||i)&&(void 0===r||"object"==typeof r)){var a=n.node,o=n.slot,f=n.template,v=g.get(e),l=v[t],s=a.parentNode,u=_(0,t),d=_(1,t),c=e[t],m=Array.isArray(c),y=c&&"object"==typeof c,N=Array.isArray(r),x=m!==N,S=null;if(l&&(!r||r&&!c||x)){if(Array.isArray(c))for(var k=c.length,w=0;w<k;w+=1){var A=c[w],M=p.get(A),L=h.get(A);L&&R(L[0],L[1],M,A)}else if(c){var B=p.get(c),W=h.get(c);R(W[0],W[1],B,c)}r&&!c?R(l[0],l[1]):(l[0].remove(),l[1].remove())}if(v[t]=[u,d],s.insertBefore(u,a),r)if(c&&y&&!x){for(var E=m?c:[c],C=N?r:[r],T=C.length-1,D=0;D<=T;D+=1){var P=E[D],j=C[D];if(P){for(var t in j)P[t]=j[t];for(var t in P)t in j||delete P[t]}else E[D]=j}Array.isArray(c)&&(E.length=C.length),S=c}else if(Array.isArray(r)){for(var H=I(r,f),q=H[0],F=H[1],z=q.length,J=0;J<z;J+=1){var K=q[J];s.insertBefore(K,a)}b.set(F,a),h.set(F,v[t]),S=F}else{var Q=O(r,f),U=Q[0],V=Q[1];s.insertBefore(V,a),S=U}else for(var X=o.childNodes,Y=X.length,Z=0;Z<Y;Z+=1){var $=X[Z];s.insertBefore($.cloneNode(!0),a)}return s.insertBefore(d,a),S}}function j(e,t,r,n){var i=r.node,a=r.event,o=c.get(e),f=o[a];if(f&&i.removeEventListener(a,f,f.options),t){t.isEventListener=!0;var v=t.bind(n);return v.options=t.options,i.addEventListener(a,v,v.options),o[a]=v}}function H(v){var l=(v.content||v).cloneNode(!0),s={};return function v(l,d){for(var c=l.childNodes.length-1,g=0;g<=c;g+=1){var p=l.childNodes[g];if(p.nodeType===Node.ELEMENT_NODE)if(p.tagName===u||p.dataset.key){var m=p.dataset.key||p.name,h=_(2,m),y=p.dataset.template,b=y?A[y]||document.querySelector(y):p;if(void 0===m)throw new TypeError("Missing `name` or `data-key` for slot.");if(delete p.dataset.key,!y&&p.tagName===u){b=document.createDocumentFragment();for(var N=p.childNodes,x=N.length,S=0;S<x;S+=1){var k=N[S];b.appendChild(k)}}l.insertBefore(h,p),m in s||(s[m]=[]),s[m].push({path:d.concat(g),slot:y?p:document.createElement("div"),template:b,type:e}),p.remove()}else for(var w in p.children.length&&v(p,d.concat(g)),p.dataset){var M=p.dataset[w],L=null;switch(w){case"text":L={type:t};break;case"value":L={type:n};break;case"class":L={type:i};break;case"unsafeHtml":L={type:r}}w.startsWith("attribute")&&(L={type:a,name:w.slice(9).toLowerCase()}),w.startsWith("event")&&(L={type:f,event:w.slice(5).toLowerCase()}),L||(L={type:o,name:w},M||(M=w)),L&&(delete p.dataset[w],p.removeAttribute(w),L.path=d.concat(g),M in s||(s[M]=[]),s[M].push(L))}}}(l,[]),N.set(v,l),x.set(v,s)}function q(e,t){var r=x.get(t),n={};for(var i in r){n[i]=[];for(var a=r[i],o=a.length,f=0;f<o;f+=1){var v=a[f],l=F(e,v.path);n[i].push(Object.assign({node:l},v))}}return n}function F(e,t){for(var r=e,n=t.length-1,i=0;i<=n;i+=1){var a=t[i];r=r.childNodes[a]}return r}function I(e,t){for(var r,n=[],i=[],a=e.length,o=0;o<a;o+=1){var f=O(e[o],t);i.push(f[0]),n.push(f[1])}return r=new Proxy(i,k),y.set(r,t),[n,r]}function O(e,t){N.get(t)||H(t);var r=N.get(t).cloneNode(!0),n={},i=new Proxy(n,S),a=q(r,t),o=_(0,"proxy"),f=_(1,"proxy"),u=[o,f],y=e[v],b=e[l],x=e[s],k=document.createDocumentFragment();for(var w in b&&p.set(i,b),x&&m.set(i,x),d.set(n,a),c.set(n,{}),g.set(n,{}),e)w in a||(n[w]=e[w]);for(var w in a)W(n,w,e[w],i,!0);return y&&y.call(i,r),k.appendChild(o),k.appendChild(r),k.appendChild(f),h.set(i,u),[i,k]}function _(e,t){if(G.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function z(e,t){if("string"==typeof t){var r=document.createElement("template");r.innerHTML=t,t=r}return A[e]=t}function G(e,t){return O(e,t)}M[t]=function(e,t,r){return r!==e.textContent?e.textContent=r:null},M[r]=function(e,t,r){return r!==e.innerHTML?e.innerHTML=r:null},M[n]=function(e,t,r){if(r!==e.value)return e.value=void 0===r?"":r},M[i]=T,M[a]=E,M[o]=C,G.debug=!1,G.isDeferred=!1;export{v as mount,l as unmount,s as move,z as registerTemplate};export default G;
