var e;if(void 0===t)var t=Symbol("slot");if(void 0===r)var r=Symbol("text");if(void 0===n)var n=Symbol("html");if(void 0===a)var a=Symbol("class");if(void 0===o)var o=Symbol("attribute");if(void 0===i)var i=Symbol("event");if(void 0===v)var v=Symbol("mount");if(void 0===s)var s=Symbol("unmount");if(void 0===f)var f="SLOT";if(void 0===l)var l=new WeakMap;if(void 0===d)var d=new WeakMap;if(void 0===u)var u=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===b)var b={set:S,deleteProperty:S};if(void 0===N)var N={set:w,deleteProperty:w};function w(t,r,n,a){T.debug&&console.log("setIndex",arguments);var o=Number.parseInt(r,10),i=!Number.isNaN(o),v=4===arguments.length,s=2===arguments.length;if("length"===r)for(var f=t.length-1,l=n;l<=f;l+=1){var d=t[l],u=p.get(d),y=c.get(d);u&&k(u[0],u[1],y,d),delete t[l]}if(s&&t[r]){var h=t[r],b=p.get(h),N=c.get(h);k(b[0],b[1],N,h),delete t[r]}if(v&&!i)return e=[],Reflect.set(t,r,n,a);if(v){if(!t.includes(n)){var w=m.get(a),S=w.parentNode,x=g.get(a),A=E(n,x),M=A[0],B=A[1],W=t[r],L=null,O=t.length-1;for(l=o+1;l<=O&&!(L=t[l]);l+=1);if(W&&!t.find((function(e,t){return e===W&&t!==o}))){var C=p.get(W),P=c.get(W);k(C[0],C[1],P,M)}if(L){var R=p.get(L)[0];S.insertBefore(B,R)}else{var j=p.get(a)[1];S.insertBefore(B,j)}return e=[],Reflect.set(t,r,M,a)}var H=t.findIndex((function(e,t){return e===n&&t!==o})),I=t[r];if(I&&n!==I){for(var D=p.get(I),q=D[0],F=D[1],_=p.get(n),z=_[0],G=_[1],J=_[1].nextSibling,K=J.parentNode,Q=z;!Q.isSameNode(G);){var U=Q;Q=Q.nextSibling,K.insertBefore(U,q)}K.insertBefore(G,q);for(var V=q;!V.isSameNode(F);){var X=V;V=V.nextSibling,K.insertBefore(X,J)}K.insertBefore(F,J)}~H&&Reflect.set(t,H,I,a),Reflect.set(t,r,n,a)}return e=[],!0}function S(v,s,f,d){var u=l.get(v),c=4===arguments.length,p=2===arguments.length,g=v[s]!==f;if(Object.prototype.hasOwnProperty.call(u,s)&&g){var m=u[s],y=m.node,h=m.type;if(h===r&&f!==y.textContent&&(y.textContent=f),h===n&&f!==y.innerHTML&&(y.innerHTML=f),h===a&&A(y,f),h===o&&x(y,m.name,f),h===i&&B(v,f,m,d),h===t){var b=M(v,s,f,m);if(b)return e=[],Reflect.set(v,s,b,d)}}return p&&delete v[s],c&&Reflect.set(v,s,f,d),e=[],!0}function x(e,t,r){return null==r?e.setAttribute(t,r):e.removeAttribute(t)}function A(e,t){if(t){for(var r=e.classList,n=Object.getPrototypeOf(t),a=n===Set.prototype?t.values():n===Array.prototype?t:n===String.prototype?t.split(" "):[],o=r.values(),i=o.length,v=0;v<i;v+=1){var s=o[v];a.includes(s)||r.remove(s)}for(var f=a.length,l=0;l<f;l+=1){var d=a[l];r.contains(d)||r.add(d)}}else e.removeAttribute("class");return null}function k(t,r,n,a){var o=t,i=o;for(o=o.nextSibling,i.remove();!o.isSameNode(r);)!function(){var e=o;o=o.nextSibling,n?Promise.resolve(n.call(a,e)).then((function(){return e.remove()})):e.remove()}();return e=[],r.remove()}function M(t,r,n,a){if(t[r]||n){var o=a.node,i=a.slot,v=a.template,s=u.get(t),f=s[r],l=o.parentNode,d=P(0,r),g=P(1,r),y=t[r],h=null;if(f&&(!n||n&&!y)){if(Array.isArray(y))for(var b=y.length,N=0;N<b;N+=1){var w=y[N],S=c.get(w),x=p.get(w);x&&k(x[0],x[1],S,w)}else if(y){var A=c.get(y),M=p.get(y);k(M[0],M[1],A,y)}k(f[0],f[1]),delete s[r]}if(s[r]=[d,g],l.insertBefore(d,o),n)if(y){var B=Array.isArray(y),W=Array.isArray(n),L=B?y:[y],O=W?n:[n];if(B!==W)throw new TypeError("Object/array mismatch on key `"+r+"`.");for(var T=O.length-1,R=0;R<=T;R+=1){var j=L[R],H=O[R];if(j){for(var r in H)j[r]=H[r];for(var r in j)H.hasOwnProperty(r)||delete j[r]}else L[R]=H}Array.isArray(y)&&(L.length=O.length),h=y}else if(Array.isArray(n)){for(var I=C(n,v),D=I[0],q=I[1],F=D.length,_=0;_<F;_+=1){var z=D[_];l.insertBefore(z,o)}m.set(q,o),p.set(q,s[r]),h=q}else{var G=E(n,v),J=G[0],K=G[1];l.insertBefore(K,o),h=J}else for(var Q=i.childNodes,U=Q.length,V=0;V<U;V+=1){var X=Q[V];l.insertBefore(X.cloneNode(!0),o)}return l.insertBefore(g,o),e=[],h}}function B(e,t,r,n){var a=r.node,o=r.event,i=d.get(e),v=i[o];if(v&&a.removeEventListener(o,v,v.options),t){var s=t.bind(n);return s.options=t.options,a.addEventListener(o,s,s.options),i[o]=s}}function W(v){var s=(v.content||v).cloneNode(!0),l={};return function e(v,s){for(var d=v.childNodes.length-1,u=0;u<=d;u+=1){var c=v.childNodes[u];if(c.nodeType===Node.ELEMENT_NODE)if(c.children.length&&e(c,s.concat(u)),c.tagName===f||c.dataset.template){var p=c.dataset.key||c.name,g=P(2,p),m=document.querySelector(c.dataset.template);if(void 0===p)throw new TypeError("Missing `name` or `data-key` for slot.");v.insertBefore(g,c),l[p]={path:s.concat(u),slot:c,template:m,type:t},c.remove()}else for(var y in c.dataset){var h=c.dataset[y],b=null;switch(y){case"text":b={type:r};break;case"class":b={type:a};break;case"unsafeHtml":b={type:n}}y.startsWith("attribute")&&(b={type:o,name:y.slice(9).toLowerCase()}),y.startsWith("event")&&(b={type:i,event:y.slice(5).toLowerCase()}),b&&(delete c.dataset[y],c.removeAttribute(y),b.path=s.concat(u),l[h]=b)}}}(s,[]),y.set(v,s),e=[],h.set(v,l)}function L(t,r){var n=h.get(r),a={};for(var o in n){var i=n[o],v=O(t,i.path);a[o]=Object.assign({node:v},i)}return e=[],a}function O(e,t){for(var r=e,n=t.length-1,a=0;a<=n;a+=1){var o=t[a];r=r.childNodes[o]}return r}function C(t,r){for(var n,a=[],o=[],i=t.length,v=0;v<i;v+=1){var s=E(t[v],r);o.push(s[0]),a.push(s[1])}return n=new Proxy(o,N),g.set(n,r),e=[],[a,n]}function E(t,r){y.get(r)||W(r);var n=y.get(r).cloneNode(!0),a={},o=new Proxy(a,b),i=L(n,r),f=P(0,"proxy"),g=P(1,"proxy"),m=[f,g],h=t[v],N=t[s],w=document.createDocumentFragment();for(var x in h&&h.call(o,n),N&&c.set(o,N),w.appendChild(f),w.appendChild(n),w.appendChild(g),p.set(o,m),l.set(a,i),d.set(a,{}),u.set(a,{}),t)S(a,x,t[x],o);return e=[],[o,w]}function P(e,t){if(T.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function T(t,r){return e=[],E(t,r)}export{v as mount,s as unmount};export default T;
