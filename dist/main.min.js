var e;if(void 0===t)var t=Symbol("slot");if(void 0===r)var r=Symbol("text");if(void 0===n)var n=Symbol("html");if(void 0===o)var o=Symbol("class");if(void 0===a)var a=Symbol("attribute");if(void 0===i)var i=Symbol("event");if(void 0===s)var s=Symbol("mount");if(void 0===v)var v=Symbol("unmount");if(void 0===f)var f=Symbol("retain");if(void 0===l)var l="SLOT";if(void 0===d)var d=new WeakMap;if(void 0===u)var u=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===b)var b={set:N,deleteProperty:N};if(void 0===h)var h={set:S,deleteProperty:S};function S(t,r,n,o){O.debug&&console.log("setIndex",arguments);var a=Number.parseInt(r,10),i=!Number.isNaN(a),s=4===arguments.length,v=2===arguments.length;if("length"===r)for(var f=t.length-1,l=n;l<=f;l+=1){var d=t[l],u=g.get(d),c=p.get(d);u&&w(u[0],u[1],c,d),delete t[l]}if(v&&t[r]){var b=t[r],h=g.get(b),S=p.get(b);w(h[0],h[1],S,b),delete t[r]}if(s&&!i)return e=[],Reflect.set(t,r,n,o);if(s){if(!t.includes(n)){var N=y.get(o),x=N.parentNode,B=m.get(o),M=A(n,B),W=M[0],k=M[1],L=t[r],C=null,P=t.length-1;for(l=a+1;l<=P&&!(C=t[l]);l+=1);if(L&&!t.find((function(e,t){return e===L&&t!==a}))){var R=g.get(L),E=p.get(L);w(R[0],R[1],E,k)}if(C){var T=g.get(C)[0];x.insertBefore(W,T)}else{var H=g.get(o)[1];x.insertBefore(W,H)}return e=[],Reflect.set(t,r,k,o)}var I=t.findIndex((function(e,t){return e===n&&t!==a})),j=t[r];if(j&&n!==j){for(var q=g.get(j),F=q[0],_=q[1],z=g.get(n),D=z[0],G=z[1],J=z[1].nextSibling,K=J.parentNode,Q=D;!Q.isSameNode(G);){var U=Q;Q=Q.nextSibling,K.insertBefore(U,F)}K.insertBefore(G,F);for(var V=F;!V.isSameNode(_);){var X=V;V=V.nextSibling,K.insertBefore(X,J)}K.insertBefore(_,J)}~I&&Reflect.set(t,I,j,o),Reflect.set(t,r,n,o)}return e=[],!0}function N(s,v,f,l){var u=d.get(s),c=4===arguments.length,p=2===arguments.length;if(Object.prototype.hasOwnProperty.call(u,v)){var g=u[v],m=g.node,y=g.type;if(y===r&&f!==m.textContent&&(m.textContent=f),y===n&&f!==m.innerHTML&&(m.innerHTML=f),y===o&&B(m,f),y===a&&x(m,g.name,f),y===i&&W(s,f,g,l),y===t){var b=M(s,v,f,g);if(b)return e=[],Reflect.set(s,v,b,l)}}return p&&delete s[v],c&&Reflect.set(s,v,f,l),e=[],!0}function x(e,t,r){return null==r?e.setAttribute(t,r):e.removeAttribute(t)}function B(e,t){if(t){for(var r=e.classList,n=Object.getPrototypeOf(t),o=n===Set.prototype?t.values():n===Array.prototype?t:n===String.prototype?t.split(" "):[],a=r.values(),i=a.length,s=0;s<i;s+=1){var v=a[s];o.includes(v)||r.remove(v)}for(var f=o.length,l=0;l<f;l+=1){var d=o[l];r.contains(d)||r.add(d)}}else e.removeAttribute("class");return null}function w(t,r,n,o){var a=t,i=a;for(a=a.nextSibling,i.remove();!a.isSameNode(r);)!function(){var e=a;a=a.nextSibling,n?Promise.resolve(n.call(o,e)).then((function(){return e.remove()})):e.remove()}();return e=[],r.remove()}function M(t,r,n,o){if(t[r]||n){var a=o.anchor,i=o.slot,s=o.template,v=c.get(t),f=v[r],l=a.parentNode,d=C(0,r),u=C(1,r),m=null;if(f){var b=t[r];if(Array.isArray(b))for(var h=b.length,S=0;S<h;S+=1){var N=b[S],x=p.get(N),B=g.get(N);w(B[0],B[1],x,N)}else if(b){var M=p.get(b),W=g.get(b);w(W[0],W[1],M,b)}else w(f[0],f[1]);delete v[r]}if(v[r]=[d,u],l.insertBefore(d,a),n)if(Array.isArray(n)){var k=L(n,s),O=k[0],P=k[1];l.insertBefore(d,a);for(var R=O.length,E=0;E<R;E+=1){var T=O[E];l.insertBefore(T,a)}l.insertBefore(u,a),y.set(P,a),g.set(P,v[r]),m=P}else{var H=A(n,s),I=H[0],j=H[1];l.insertBefore(I,a),m=j}else for(var q=i.childNodes,F=q.length,_=0;_<F;_+=1){var z=q[_];l.insertBefore(z.cloneNode(!0),a)}return l.insertBefore(u,a),e=[],m}}function W(e,t,r,n){var o=r.node,a=r.event,i=u.get(e),s=i[a];if(s&&o.removeEventListener(a,s,s.options),t){var v=t.bind(n);return v.options=t.options,o.addEventListener(a,v,v.options),i[a]=v}}function k(s){for(var v=null,f=document.createNodeIterator(s,NodeFilter.SHOW_ELEMENT),d={};v=f.nextNode();)if(v.tagName!==l)for(var u in v.dataset){var c=v.dataset[u],p=null;switch(u){case"text":p={node:v,type:r};break;case"class":p={node:v,type:o};break;case"unsafeHtml":p={node:v,type:n}}u.startsWith("attribute")&&(p={node:v,type:a,name:u.slice(9).toLowerCase()}),u.startsWith("event")&&(p={node:v,type:i,event:u.slice(5).toLowerCase()}),p&&(delete v.dataset[u],d[c]=p)}else{var g=v.name,m=C(2,g),y=document.querySelector(v.dataset.template);v.parentNode.insertBefore(m,v),d[g]={anchor:m,slot:v,template:y,type:t},v.remove()}return e=[],d}function L(t,r){for(var n,o=[],a=[],i=t.length,s=0;s<i;s+=1){var v=A(t[s],r);o.push(v[0]),a.push(v[1])}return n=new Proxy(a,h),m.set(n,r),e=[],[o,n]}function A(t,r){var n=(r.content||r).cloneNode(!0),o=new Proxy(t,b),a=k(n),i=C(0,"proxy"),f=C(1,"proxy"),l=[i,f],m=t[s],y=t[v];return n.insertBefore(i,n.firstChild),n.appendChild(f),g.set(o,l),d.set(t,a),u.set(t,{}),c.set(t,{}),Object.assign(o,t),m&&m.call(o,n),y&&p.set(o,y),e=[],[n,o]}function C(e,t){if(O.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function O(t,r){return e=[],A(t,r)}export{s as mount,v as unmount};export default O;
