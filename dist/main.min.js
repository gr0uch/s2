var e;if(void 0===t)var t=Symbol("slot");if(void 0===r)var r=Symbol("text");if(void 0===n)var n=Symbol("html");if(void 0===a)var a=Symbol("value");if(void 0===i)var i=Symbol("class");if(void 0===o)var o=Symbol("attribute");if(void 0===s)var s=Symbol("event");if(void 0===v)var v=Symbol("mount");if(void 0===f)var f=Symbol("unmount");if(void 0===l)var l="SLOT";if(void 0===u)var u=new WeakMap;if(void 0===d)var d=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===b)var b=new WeakMap;if(void 0===N)var N={set:k,deleteProperty:k};if(void 0===S)var S={set:w,deleteProperty:w};if(void 0===x)var x=[];function w(t,r,n,a,i){if(q.isDeferred&&!i)return A((function(){return e=[],w(t,r,n,a,!0)})),e=[],!0;q.debug&&console.log("setIndex",arguments);var o=Number.parseInt(r,10),s=!Number.isNaN(o),v=void 0!==n;if("length"===r)for(var f=t.length-1,l=n;l<=f;l+=1){var u=t[l],d=p.get(u),c=g.get(u);d&&L(d[0],d[1],c,u),delete t[l]}if(!v&&t[r]){var h=t[r],b=p.get(h),N=g.get(h);L(b[0],b[1],N,h),delete t[r]}if(v){if(!s)return e=[],Reflect.set(t,r,n,a);if(!t.includes(n)){var S=y.get(a),x=S.parentNode,k=m.get(a),M=D(n,k),B=M[0],W=M[1],C=t[r],E=null,P=t.length-1;for(l=o+1;l<=P&&!(E=t[l]);l+=1);if(C&&!t.find((function(e,t){return e===C&&t!==o}))){var R=p.get(C),T=g.get(C);L(R[0],R[1],T,B)}if(E){var O=p.get(E)[0];x.insertBefore(W,O)}else{var H=p.get(a)[1];x.insertBefore(W,H)}return e=[],Reflect.set(t,r,B,a)}var I=t.findIndex((function(e,t){return e===n&&t!==o})),j=t[r];if(j&&n!==j){for(var F=p.get(j),_=F[0],z=F[1],G=p.get(n),J=G[0],K=G[1],Q=G[1].nextSibling,U=Q.parentNode,V=J;!V.isSameNode(K);){var X=V;V=V.nextSibling,U.insertBefore(X,_)}U.insertBefore(K,_);for(var Y=_;!Y.isSameNode(z);){var Z=Y;Y=Y.nextSibling,U.insertBefore(Z,Q)}U.insertBefore(z,Q)}~I&&Reflect.set(t,I,j,a),Reflect.set(t,r,n,a)}return e=[],!0}function A(t){return x.length||requestAnimationFrame((function(){for(var t=x.length;x.length;){x.shift()()}return e=[],q.debug?console.log("queue flushed",t):null})),e=[],x.push(t)}function k(v,f,l,d,c){if(q.isDeferred&&!c)return A((function(){return e=[],k(v,f,l,d,!0)})),e=[],!0;q.debug&&console.log("setProperty",arguments);var g=u.get(v),p=void 0!==l,m=v[f]!==l,y=g[f],h=y&&y.node,b=y&&y.type,N=null==l?"":l;if(Object.prototype.hasOwnProperty.call(g,f)&&(m||c)&&(b===r&&l!==h.textContent&&(h.textContent=N),b===n&&l!==h.innerHTML&&(h.innerHTML=N),b===a&&l!==h.value&&(h.value=N),b===i&&B(h,l),b===o&&M(h,y.name,l),b===s&&C(v,l,y,d),b===t)){var S=W(v,f,l,y,c);if(S)return e=[],Reflect.set(v,f,S,d)}return b!==a||y.isListening||(h.addEventListener("input",(function(e){return Reflect.set(v,f,e.target.value,d)})),y.isListening=!0),p?Reflect.set(v,f,l,d):delete v[f],e=[],!0}function M(e,t,r){return null!=r?t in e?e[t]=r:e.setAttribute(t,r):e.removeAttribute(t)}function B(e,t){return t?e.className=Array.isArray(t)?t.split(" "):t:e.removeAttribute("class")}function L(t,r,n,a){var i=t,o=i;for(i=i.nextSibling,o.remove();!i.isSameNode(r);)!function(){var e=i;i=i.nextSibling,n?Promise.resolve(n.call(a,e)).then((function(){return e.remove()})):e.remove()}();return e=[],r.remove()}function W(t,r,n,a,i){if(q.debug&&console.log("setSlot",arguments),t[r]||n||i){var o=a.node,s=a.slot,v=a.template,f=c.get(t),l=f[r],u=o.parentNode,d=O(0,r),m=O(1,r),h=t[r],b=Array.isArray(h),N=Array.isArray(n),S=b!==N,x=null;if(l&&(!n||n&&!h||S)){if(Array.isArray(h))for(var w=h.length,A=0;A<w;A+=1){var k=h[A],M=g.get(k),B=p.get(k);B&&L(B[0],B[1],M,k)}else if(h){var W=g.get(h),C=p.get(h);L(C[0],C[1],W,h)}L(l[0],l[1]),delete f[r]}if(f[r]=[d,m],u.insertBefore(d,o),n)if(!h||S)if(Array.isArray(n)){for(var E=T(n,v),P=E[0],R=E[1],H=P.length,I=0;I<H;I+=1){var j=P[I];u.insertBefore(j,o)}y.set(R,o),p.set(R,f[r]),x=R}else{var F=D(n,v),_=F[0],z=F[1];u.insertBefore(z,o),x=_}else{for(var G=b?h:[h],J=N?n:[n],K=J.length-1,Q=0;Q<=K;Q+=1){var U=G[Q],V=J[Q];if(U){for(var r in V)U[r]=V[r];for(var r in U)r in V||delete U[r]}else G[Q]=V}Array.isArray(h)&&(G.length=J.length),x=h}else for(var X=s.childNodes,Y=X.length,Z=0;Z<Y;Z+=1){var $=X[Z];u.insertBefore($.cloneNode(!0),o)}return u.insertBefore(m,o),e=[],x}}function C(e,t,r,n){var a=r.node,i=r.event,o=d.get(e),s=o[i];if(s&&a.removeEventListener(i,s,s.options),t){var v=t.bind(n);return v.options=t.options,a.addEventListener(i,v,v.options),o[i]=v}}function E(v){var f=(v.content||v).cloneNode(!0),u={};return function e(v,f){for(var d=v.childNodes.length-1,c=0;c<=d;c+=1){var g=v.childNodes[c];if(g.nodeType===Node.ELEMENT_NODE)if(g.children.length&&e(g,f.concat(c)),g.tagName!==l&&!g.dataset.key||!g.dataset.template)for(var p in g.dataset){var m=g.dataset[p],y=null;switch(p){case"text":y={type:r};break;case"value":y={type:a};break;case"class":y={type:i};break;case"unsafeHtml":y={type:n}}p.startsWith("attribute")&&(y={type:o,name:p.slice(9).toLowerCase()}),p.startsWith("event")&&(y={type:s,event:p.slice(5).toLowerCase()}),y&&(delete g.dataset[p],g.removeAttribute(p),y.path=f.concat(c),u[m]=y)}else{var h=g.dataset.key||g.name,b=O(2,h),N=document.querySelector(g.dataset.template);if(void 0===h)throw new TypeError("Missing `name` or `data-key` for slot.");v.insertBefore(b,g),u[h]={path:f.concat(c),slot:g,template:N,type:t},g.remove()}}}(f,[]),h.set(v,f),e=[],b.set(v,u)}function P(t,r){var n=b.get(r),a={};for(var i in n){var o=n[i],s=R(t,o.path);a[i]=Object.assign({node:s},o)}return e=[],a}function R(e,t){for(var r=e,n=t.length-1,a=0;a<=n;a+=1){var i=t[a];r=r.childNodes[i]}return r}function T(t,r){for(var n,a=[],i=[],o=t.length,s=0;s<o;s+=1){var v=D(t[s],r);i.push(v[0]),a.push(v[1])}return n=new Proxy(i,S),m.set(n,r),e=[],[a,n]}function D(t,r){h.get(r)||E(r);var n=h.get(r).cloneNode(!0),a={},i=new Proxy(a,N),o=P(n,r),s=O(0,"proxy"),l=O(1,"proxy"),m=[s,l],y=t[v],b=t[f],S=document.createDocumentFragment();for(var x in b&&g.set(i,b),u.set(a,o),d.set(a,{}),c.set(a,{}),o)k(a,x,t[x],i,!0);for(var x in t)x in o||(a[x]=t[x]);return y&&y.call(i,n),S.appendChild(s),S.appendChild(n),S.appendChild(l),p.set(i,m),e=[],[i,S]}function O(e,t){if(q.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function q(t,r){return e=[],D(t,r)}q.debug=!1,q.isDeferred=!1;export{v as mount,f as unmount};export default q;
