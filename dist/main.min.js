var e;if(void 0===t)var t=Symbol("slot");if(void 0===r)var r=Symbol("text");if(void 0===n)var n=Symbol("html");if(void 0===a)var a=Symbol("value");if(void 0===o)var o=Symbol("class");if(void 0===i)var i=Symbol("attribute");if(void 0===s)var s=Symbol("event");if(void 0===v)var v=Symbol("mount");if(void 0===l)var l=Symbol("unmount");if(void 0===f)var f="SLOT";if(void 0===d)var d=new WeakMap;if(void 0===u)var u=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===b)var b=new WeakMap;if(void 0===N)var N={set:w,deleteProperty:w};if(void 0===S)var S={set:x,deleteProperty:x};function x(t,r,n,a){T.debug&&console.log("setIndex",arguments);var o=Number.parseInt(r,10),i=!Number.isNaN(o),s=4===arguments.length,v=2===arguments.length;if("length"===r)for(var l=t.length-1,f=n;f<=l;f+=1){var d=t[f],u=p.get(d),c=g.get(d);u&&M(u[0],u[1],c,d),delete t[f]}if(v&&t[r]){var h=t[r],b=p.get(h),N=g.get(h);M(b[0],b[1],N,h),delete t[r]}if(s&&!i)return e=[],Reflect.set(t,r,n,a);if(s){if(!t.includes(n)){var S=y.get(a),x=S.parentNode,w=m.get(a),A=O(n,w),k=A[0],B=A[1],L=t[r],W=null,C=t.length-1;for(f=o+1;f<=C&&!(W=t[f]);f+=1);if(L&&!t.find((function(e,t){return e===L&&t!==o}))){var E=p.get(L),P=g.get(L);M(E[0],E[1],P,k)}if(W){var R=p.get(W)[0];x.insertBefore(B,R)}else{var j=p.get(a)[1];x.insertBefore(B,j)}return e=[],Reflect.set(t,r,k,a)}var H=t.findIndex((function(e,t){return e===n&&t!==o})),I=t[r];if(I&&n!==I){for(var D=p.get(I),q=D[0],F=D[1],_=p.get(n),z=_[0],G=_[1],J=_[1].nextSibling,K=J.parentNode,Q=z;!Q.isSameNode(G);){var U=Q;Q=Q.nextSibling,K.insertBefore(U,q)}K.insertBefore(G,q);for(var V=q;!V.isSameNode(F);){var X=V;V=V.nextSibling,K.insertBefore(X,J)}K.insertBefore(F,J)}~H&&Reflect.set(t,H,I,a),Reflect.set(t,r,n,a)}return e=[],!0}function w(v,l,f,u,c){T.debug&&console.log("setProperty",arguments);var g=d.get(v),p=arguments.length>=4,m=2===arguments.length,y=v[l]!==f,h=g[l],b=h&&h.node,N=h&&h.type,S=null==f?"":f;if(Object.prototype.hasOwnProperty.call(g,l)&&(y||c)&&(N===r&&f!==b.textContent&&(b.textContent=S),N===n&&f!==b.innerHTML&&(b.innerHTML=S),N===a&&f!==b.value&&(b.value=S),N===o&&k(b,f),N===i&&A(b,h.name,f),N===s&&L(v,f,h,u),N===t)){var x=B(v,l,f,h,c);if(x)return e=[],Reflect.set(v,l,x,u)}return N!==a||h.isListening||(b.addEventListener("input",(function(e){return Reflect.set(v,l,e.target.value,u)})),h.isListening=!0),m&&delete v[l],p&&Reflect.set(v,l,f,u),e=[],!0}function A(e,t,r){return null!=r?t in e?e[t]=r:e.setAttribute(t,r):e.removeAttribute(t)}function k(e,t){if(t){for(var r=e.classList,n=Object.getPrototypeOf(t),a=n===Set.prototype?t.values():n===Array.prototype?t:n===String.prototype?t.split(" "):[],o=r.values(),i=o.length,s=0;s<i;s+=1){var v=o[s];a.includes(v)||r.remove(v)}for(var l=a.length,f=0;f<l;f+=1){var d=a[f];r.contains(d)||r.add(d)}}else e.removeAttribute("class");return null}function M(t,r,n,a){var o=t,i=o;for(o=o.nextSibling,i.remove();!o.isSameNode(r);)!function(){var e=o;o=o.nextSibling,n?Promise.resolve(n.call(a,e)).then((function(){return e.remove()})):e.remove()}();return e=[],r.remove()}function B(t,r,n,a,o){if(T.debug&&console.log("setSlot",arguments),t[r]||n||o){var i=a.node,s=a.slot,v=a.template,l=c.get(t),f=l[r],d=i.parentNode,u=R(0,r),m=R(1,r),h=t[r],b=Array.isArray(h),N=Array.isArray(n),S=b!==N,x=null;if(f&&(!n||n&&!h||S)){if(Array.isArray(h))for(var w=h.length,A=0;A<w;A+=1){var k=h[A],B=g.get(k),L=p.get(k);L&&M(L[0],L[1],B,k)}else if(h){var W=g.get(h),C=p.get(h);M(C[0],C[1],W,h)}M(f[0],f[1]),delete l[r]}if(l[r]=[u,m],d.insertBefore(u,i),n)if(!h||S)if(Array.isArray(n)){for(var E=P(n,v),j=E[0],H=E[1],I=j.length,D=0;D<I;D+=1){var q=j[D];d.insertBefore(q,i)}y.set(H,i),p.set(H,l[r]),x=H}else{var F=O(n,v),_=F[0],z=F[1];d.insertBefore(z,i),x=_}else{for(var G=b?h:[h],J=N?n:[n],K=J.length-1,Q=0;Q<=K;Q+=1){var U=G[Q],V=J[Q];if(U){for(var r in V)U[r]=V[r];for(var r in U)r in V||delete U[r]}else G[Q]=V}Array.isArray(h)&&(G.length=J.length),x=h}else for(var X=s.childNodes,Y=X.length,Z=0;Z<Y;Z+=1){var $=X[Z];d.insertBefore($.cloneNode(!0),i)}return d.insertBefore(m,i),e=[],x}}function L(e,t,r,n){var a=r.node,o=r.event,i=u.get(e),s=i[o];if(s&&a.removeEventListener(o,s,s.options),t){var v=t.bind(n);return v.options=t.options,a.addEventListener(o,v,v.options),i[o]=v}}function W(v){var l=(v.content||v).cloneNode(!0),d={};return function e(v,l){for(var u=v.childNodes.length-1,c=0;c<=u;c+=1){var g=v.childNodes[c];if(g.nodeType===Node.ELEMENT_NODE)if(g.children.length&&e(g,l.concat(c)),g.tagName===f||g.dataset.template){var p=g.dataset.key||g.name,m=R(2,p),y=document.querySelector(g.dataset.template);if(void 0===p)throw new TypeError("Missing `name` or `data-key` for slot.");v.insertBefore(m,g),d[p]={path:l.concat(c),slot:g,template:y,type:t},g.remove()}else for(var h in g.dataset){var b=g.dataset[h],N=null;switch(h){case"text":N={type:r};break;case"value":N={type:a};break;case"class":N={type:o};break;case"unsafeHtml":N={type:n}}h.startsWith("attribute")&&(N={type:i,name:h.slice(9).toLowerCase()}),h.startsWith("event")&&(N={type:s,event:h.slice(5).toLowerCase()}),N&&(delete g.dataset[h],g.removeAttribute(h),N.path=l.concat(c),d[b]=N)}}}(l,[]),h.set(v,l),e=[],b.set(v,d)}function C(t,r){var n=b.get(r),a={};for(var o in n){var i=n[o],s=E(t,i.path);a[o]=Object.assign({node:s},i)}return e=[],a}function E(e,t){for(var r=e,n=t.length-1,a=0;a<=n;a+=1){var o=t[a];r=r.childNodes[o]}return r}function P(t,r){for(var n,a=[],o=[],i=t.length,s=0;s<i;s+=1){var v=O(t[s],r);o.push(v[0]),a.push(v[1])}return n=new Proxy(o,S),m.set(n,r),e=[],[a,n]}function O(t,r){h.get(r)||W(r);var n=h.get(r).cloneNode(!0),a={},o=new Proxy(a,N),i=C(n,r),s=R(0,"proxy"),f=R(1,"proxy"),m=[s,f],y=t[v],b=t[l],S=document.createDocumentFragment();for(var x in b&&g.set(o,b),d.set(a,i),u.set(a,{}),c.set(a,{}),i)w(a,x,t[x],o,!0);for(var x in t)x in i||(a[x]=t[x]);return y&&y.call(o,n),S.appendChild(s),S.appendChild(n),S.appendChild(f),p.set(o,m),e=[],[o,S]}function R(e,t){if(T.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function T(t,r){return e=[],O(t,r)}export{v as mount,l as unmount};export default T;
