var e;if(void 0===t)var t=Symbol("slot");if(void 0===r)var r=Symbol("text");if(void 0===n)var n=Symbol("html");if(void 0===o)var o=Symbol("class");if(void 0===a)var a=Symbol("attribute");if(void 0===i)var i=Symbol("event");if(void 0===s)var s=Symbol("mount");if(void 0===v)var v=Symbol("unmount");if(void 0===f)var f="SLOT";if(void 0===l)var l=new WeakMap;if(void 0===d)var d=new WeakMap;if(void 0===u)var u=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===y)var y={set:S,deleteProperty:S};if(void 0===b)var b={set:h,deleteProperty:h};function h(t,r,n,o){C.debug&&console.log("setIndex",arguments);var a=Number.parseInt(r,10),i=!Number.isNaN(a),s=4===arguments.length,v=2===arguments.length;if("length"===r)for(var f=t.length-1,l=n;l<=f;l+=1){var d=t[l],u=p.get(d),y=c.get(d);u&&w(u[0],u[1],y,d),delete t[l]}if(v&&t[r]){var b=t[r],h=p.get(b),S=c.get(b);w(h[0],h[1],S,b),delete t[r]}if(s&&!i)return e=[],Reflect.set(t,r,n,o);if(s){if(!t.includes(n)){var N=m.get(o),x=N.parentNode,B=g.get(o),k=L(n,B),M=k[0],W=k[1],A=t[r],O=null,P=t.length-1;for(l=a+1;l<=P&&!(O=t[l]);l+=1);if(A&&!t.find((function(e,t){return e===A&&t!==a}))){var E=p.get(A),R=c.get(A);w(E[0],E[1],R,W)}if(O){var T=p.get(O)[0];x.insertBefore(M,T)}else{var H=p.get(o)[1];x.insertBefore(M,H)}return e=[],Reflect.set(t,r,W,o)}var I=t.findIndex((function(e,t){return e===n&&t!==a})),j=t[r];if(j&&n!==j){for(var q=p.get(j),F=q[0],_=q[1],z=p.get(n),D=z[0],G=z[1],J=z[1].nextSibling,K=J.parentNode,Q=D;!Q.isSameNode(G);){var U=Q;Q=Q.nextSibling,K.insertBefore(U,F)}K.insertBefore(G,F);for(var V=F;!V.isSameNode(_);){var X=V;V=V.nextSibling,K.insertBefore(X,J)}K.insertBefore(_,J)}~I&&Reflect.set(t,I,j,o),Reflect.set(t,r,n,o)}return e=[],!0}function S(s,v,f,d){var u=l.get(s),c=4===arguments.length,p=2===arguments.length;if(Object.prototype.hasOwnProperty.call(u,v)){var g=u[v],m=g.node,y=g.type;if(y===r&&f!==m.textContent&&(m.textContent=f),y===n&&f!==m.innerHTML&&(m.innerHTML=f),y===o&&x(m,f),y===a&&N(m,g.name,f),y===i&&k(s,f,g,d),y===t){var b=B(s,v,f,g);if(b)return e=[],Reflect.set(s,v,b,d)}}return p&&delete s[v],c&&Reflect.set(s,v,f,d),e=[],!0}function N(e,t,r){return null==r?e.setAttribute(t,r):e.removeAttribute(t)}function x(e,t){if(t){for(var r=e.classList,n=Object.getPrototypeOf(t),o=n===Set.prototype?t.values():n===Array.prototype?t:n===String.prototype?t.split(" "):[],a=r.values(),i=a.length,s=0;s<i;s+=1){var v=a[s];o.includes(v)||r.remove(v)}for(var f=o.length,l=0;l<f;l+=1){var d=o[l];r.contains(d)||r.add(d)}}else e.removeAttribute("class");return null}function w(t,r,n,o){var a=t,i=a;for(a=a.nextSibling,i.remove();!a.isSameNode(r);)!function(){var e=a;a=a.nextSibling,n?Promise.resolve(n.call(o,e)).then((function(){return e.remove()})):e.remove()}();return e=[],r.remove()}function B(t,r,n,o){if(t[r]||n){var a=o.anchor,i=o.slot,s=o.template,v=u.get(t),f=v[r],l=a.parentNode,d=A(0,r),g=A(1,r),y=null;if(f){var b=t[r];if(Array.isArray(b))for(var h=b.length,S=0;S<h;S+=1){var N=b[S],x=c.get(N),B=p.get(N);B&&w(B[0],B[1],x,N)}else if(b){var k=c.get(b),M=p.get(b);w(M[0],M[1],k,b)}w(f[0],f[1]),delete v[r]}if(v[r]=[d,g],l.insertBefore(d,a),n)if(Array.isArray(n)){var C=W(n,s),O=C[0],P=C[1];l.insertBefore(d,a);for(var E=O.length,R=0;R<E;R+=1){var T=O[R];l.insertBefore(T,a)}l.insertBefore(g,a),m.set(P,a),p.set(P,v[r]),y=P}else{var H=L(n,s),I=H[0],j=H[1];l.insertBefore(I,a),y=j}else for(var q=i.childNodes,F=q.length,_=0;_<F;_+=1){var z=q[_];l.insertBefore(z.cloneNode(!0),a)}return l.insertBefore(g,a),e=[],y}}function k(e,t,r,n){var o=r.node,a=r.event,i=d.get(e),s=i[a];if(s&&o.removeEventListener(a,s,s.options),t){var v=t.bind(n);return v.options=t.options,o.addEventListener(a,v,v.options),i[a]=v}}function M(s){for(var v=null,l=document.createNodeIterator(s,NodeFilter.SHOW_ELEMENT),d={};v=l.nextNode();)if(v.tagName===f||v.dataset.template){var u=v.dataset.key||v.name,c=A(2,u),p=document.querySelector(v.dataset.template);if(void 0===u)throw new Error("Missing `name` or `data-key` for slot.");v.parentNode.insertBefore(c,v),d[u]={anchor:c,slot:v,template:p,type:t},v.remove()}else for(var g in v.dataset){var m=v.dataset[g],y=null;switch(g){case"text":y={node:v,type:r};break;case"class":y={node:v,type:o};break;case"unsafeHtml":y={node:v,type:n}}g.startsWith("attribute")&&(y={node:v,type:a,name:g.slice(9).toLowerCase()}),g.startsWith("event")&&(y={node:v,type:i,event:g.slice(5).toLowerCase()}),y&&(delete v.dataset[g],d[m]=y)}return e=[],d}function W(t,r){for(var n,o=[],a=[],i=t.length,s=0;s<i;s+=1){var v=L(t[s],r);o.push(v[0]),a.push(v[1])}return n=new Proxy(a,b),g.set(n,r),e=[],[o,n]}function L(t,r){var n=(r.content||r).cloneNode(!0),o=new Proxy(t,y),a=M(n),i=A(0,"proxy"),f=A(1,"proxy"),g=[i,f],m=t[s],b=t[v];return n.insertBefore(i,n.firstChild),n.appendChild(f),p.set(o,g),l.set(t,a),d.set(t,{}),u.set(t,{}),Object.assign(o,t),m&&m.call(o,n),b&&c.set(o,b),e=[],[n,o]}function A(e,t){if(C.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function C(t,r){return e=[],L(t,r)}export{s as mount,v as unmount};export default C;
