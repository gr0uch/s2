var t=new WeakMap,e=new WeakMap,n=[],r=null,o=Symbol("stackDelimiter"),i={get:l,set:a,deleteProperty:a};function f(){for(r=null;n.length;)n.pop()}function u(){for(var t=n.length-1;t>=0&&n.pop()!==o;t-=1);}function l(t,e,o){return n.push([t,e]),r||(r=setTimeout(f,0)),Reflect.get(t,e,o)}function a(e,n,r,o){if(e[n]===r)return!0;void 0!==r?Reflect.set(e,n,r,o):Reflect.deleteProperty(e,n);var i,f=t.get(e);if(!f)return!0;for(var u=(i=f[n]||[]).length,l=0;l<u;l+=1){var a=i[l],c=a[0],s=a[1],v=a[2].call(c);c[s]=v}return!0}function c(t){return new Proxy(t,i)}function s(r){for(var i in r){var f=r[i];if("function"==typeof f){if(f.isEventListener)continue;n.push(o);var l=f.call(r);void 0!==l&&(r[i]=l);for(var a=n.length-1;a>=0&&"symbol"!=typeof n[a];a-=1){var c=n[a],s=c[0],v=c[1],h=null;e.has(r)||e.set(r,[]),e.get(r).push(s),t.has(s)||t.set(s,{}),(h=t.get(s))[v]||(h[v]=[]),h[v].push([r,i,f])}u()}}}function v(n){var r=e.get(n);if(r)for(var o=r.length,i=0;i<o;i+=1){var f=r[i],u=t.get(f);for(var l in u)for(var a=u[l],c=a.length-1;c>=0;c-=1){a[c][0]===n&&a.splice(c,1)}}}function h(t,e){return function(n){var r=n[t],o=n[e];return n[t]=function(){return r&&r.call(this),s(this)},n[e]=function(){return o&&o.call(this),v(this)},n}}export{c as createSource,h as createComputed};
