var r=new WeakMap,e=new WeakMap,t=[],n=null,o=Symbol("stackDelimiter"),i=function(){var r=v();return{get:l,set:r,deleteProperty:r}}(),u=function(){var r=v(!0);return{get:l,set:r,deleteProperty:r}}();function f(){for(n=null;t.length;)t.pop()}function a(){for(var r=t.length-1;r>=0&&t.pop()!==o;r-=1);}function l(r,e,o){return t.find((function(t){return t[0]===r&&t[1]===e}))||(t.push([r,e]),n||(n=setTimeout(f,0))),Reflect.get(r,e,o)}function c(r){return r&&"object"==typeof r}function v(e){return function(t,n,o,i){var u=t[n];if(u===o)return!0;if(e&&c(o)){if(c(u))return s(i[n],o),!0;o=p(o,!0)}void 0!==o?Reflect.set(t,n,o,i):Reflect.deleteProperty(t,n);var f,a=r.get(t);if(!a)return!0;for(var l=(f=a[n]||[]).length,v=0;v<l;v+=1){var h=f[v];g(h[0],h[1],h[2])}return!0}}function s(r,e){for(var t in e){var n=e[t],o=r[t];c(n)&&c(o)?s(o,n):r[t]=n}for(var t in r){r[t];e.hasOwnProperty(t)||delete r[t]}}function p(r,e){r||(r={});var t=new Proxy(r,e?u:i);if(e)for(var n in r){var o=r[n];c(o)&&(r[n]=p(o,!0))}return t}function h(r){for(var e in r){var t=r[e];if("function"==typeof t){if(t.isEventListener)continue;g(r,e,t)}}}function g(n,i,u){t.push(o);var f=u.call(n),l=[];void 0!==f?n[i]=f:delete n[i],e.set(n,l);for(var c=t.length-1;c>=0&&"symbol"!=typeof t[c];c-=1){var v=t[c],s=v[0],p=v[1],h=null;l.includes(s)||l.push(s),r.has(s)||r.set(s,{}),(h=r.get(s))[p]||(h[p]=[]);var g=h[p];g.some((function(r){return r[0]===n&&r[1]===i}))||g.push([n,i,u])}return a()}function y(t){var n=e.get(t);if(n)for(var o=n.length,i=0;i<o;i+=1){var u=n[i],f=r.get(u);for(var a in f)for(var l=f[a],c=l.length-1;c>=0;c-=1){l[c][0]===t&&l.splice(c,1)}}}function d(r,e){return function(t){var n=t[r],o=t[e];return t[r]=function(){return n&&n.call(this),h(this)},t[e]=function(){return o&&o.call(this),y(this)},t}}export{p as observable,p as createSource,d as createComputed};
