if(void 0===e)var e="slot";if(void 0===t)var t="text";if(void 0===r)var r="html";if(void 0===n)var n="value";if(void 0===i)var i="class";if(void 0===a)var a="attribute";if(void 0===o)var o="data";if(void 0===f)var f="event";if(void 0===v)var v=Symbol("mount");if(void 0===s)var s=Symbol("unmount");if(void 0===l)var l=Symbol("move");if(void 0===u)var u="SLOT";if(void 0===d)var d=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===b)var b=new WeakMap;if(void 0===N)var N=new WeakMap;if(void 0===x)var x=new WeakMap;if(void 0===S)var S={set:W,deleteProperty:W};if(void 0===w)var w={set:L,deleteProperty:L};if(void 0===k)var k=[];if(void 0===A)var A={};if(void 0===M)var M={};function L(e,t,r,n,i){if(G.isDeferred&&!i)return B((function(){return L(e,t,r,n,!0)})),!0;G.debug&&console.log("setIndex",arguments);var a=Number.parseInt(t,10),o=!Number.isNaN(a),f=void 0!==r;if("length"===t)for(var v=e.length-1,s=r;s<=v;s+=1){var l=e[s],u=h.get(l),d=p.get(l);u&&O(u[0],u[1],d,l),delete e[s]}if(!f&&e[t]){var c=e[t],g=h.get(c),N=p.get(c);O(g[0],g[1],N,c),delete e[t]}if(f){if(!o)return Reflect.set(e,t,r,n);if(!e.includes(r)){var x=b.get(n),S=x.parentNode,w=y.get(n),k=I(r,w),A=k[0],M=k[1],W=e[t],E=null,P=e.length-1;for(s=a+1;s<=P&&!(E=e[s]);s+=1);if(W&&!e.find((function(e,t){return e===W&&t!==a}))){var C=h.get(W),T=p.get(W);O(C[0],C[1],T,A)}if(E){var R=h.get(E)[0];S.insertBefore(M,R)}else{var D=h.get(n)[1];S.insertBefore(M,D)}return Reflect.set(e,t,A,n)}var j=e.findIndex((function(e,t){return e===r&&t!==a})),H=e[t],q=m.get(r),F=h.get(r),_=F[0],z=F[1];if(H){var J=h.get(H),K=J[0],Q=J[1],U=m.get(H),V=F[1].nextSibling,X=V.parentNode;if(r!==H){if(q)for(var Y=_.nextSibling;!Y.isSameNode(z);){var Z=Y;Y=Y.nextSibling,q.call(r,Z)}if(U)for(var $=K.nextSibling;!$.isSameNode(Q);){var ee=$;$=$.nextSibling,U.call(H,ee)}for(var te=_;!te.isSameNode(z);){var re=te;te=te.nextSibling,X.insertBefore(re,K)}X.insertBefore(z,K);for(var ne=K;!ne.isSameNode(Q);){var ie=ne;ne=ne.nextSibling,X.insertBefore(ie,V)}X.insertBefore(Q,V)}}else if(q)for(var ae=_.nextSibling;!ae.isSameNode(z);){var oe=ae;ae=ae.nextSibling,q.call(r,oe)}~j&&Reflect.set(e,j,H,n),Reflect.set(e,t,r,n)}return!0}function B(e){return k.length||requestAnimationFrame((function(){for(var e=k.length;k.length;){k.shift()()}return G.debug?console.log("queue flushed",e):null})),k.push(e)}function W(t,r,i,a,o){if(G.isDeferred&&!o)return B((function(){return W(t,r,i,a,!0)})),!0;G.debug&&console.log("setProperty",arguments);var v=d.get(t),s=void 0!==i,l=t[r]!==i,u=v[r],c=null,g=null;if(u)for(var p=u.length,m=0;m<p;m+=1){var h=u[m];if(c=h.node,g=h.type,l||o)if(g in M&&"function"!=typeof i)M[g](c,h.name,i);else if(g===f&&D(t,i,h,a),g===e){var y=R(t,r,i,h,o);if(y)return Reflect.set(t,r,y,a)}g!==n||h.isListening||(c.addEventListener("input",(function(e){return Reflect.set(t,r,e.target.value,a)})),h.isListening=!0)}return s?Reflect.set(t,r,i,a):delete t[r],!0}function E(e,t,r){return null!=r?t in e?e[t]=r:e.setAttribute(t,r):e.removeAttribute(t)}function P(e,t,r){return null!=r?e.dataset[t]=r:delete e.dataset[t]}function C(e,t,r){return r?e.className=Array.isArray(r)?r.split(" "):r:e.removeAttribute("class")}function O(e,t,r,n){var i=e,a=i;for(i=i.nextSibling,a.remove();!i.isSameNode(t);)!function(){var e=i;i=i.nextSibling,r?Promise.resolve(r.call(n,e)).then((function(){return e.remove()})):e.remove()}();return t.remove(),T(n)}function T(e,t){for(var r in e){var n=e[r];"object"==typeof n&&null!==n&&T(n,!0)}if(t){var i=p.get(e);return i?i.call(e):null}}function R(e,t,r,n,i){if(G.debug&&console.log("setSlot",arguments),(e[t]||r||i)&&(void 0===r||"object"==typeof r)){var a=n.node,o=n.slot,f=n.template,v=g.get(e),s=v[t],l=a.parentNode,u=_(0,t),d=_(1,t),c=e[t],m=Array.isArray(c),y=c&&"object"==typeof c,N=Array.isArray(r),x=m!==N,S=null;if(s&&(!r||r&&!c||x)){if(Array.isArray(c))for(var w=c.length,k=0;k<w;k+=1){var A=c[k],M=p.get(A),L=h.get(A);L&&O(L[0],L[1],M,A)}else if(c){var B=p.get(c),W=h.get(c);O(W[0],W[1],B,c)}r&&!c?O(s[0],s[1]):(s[0].remove(),s[1].remove())}if(v[t]=[u,d],l.insertBefore(u,a),r)if(c&&y&&!x){for(var E=m?c:[c],P=N?r:[r],C=P.length-1,T=0;T<=C;T+=1){var R=E[T],D=P[T];if(R){for(var t in D)R[t]=D[t];for(var t in R)D.hasOwnProperty(t)||delete R[t]}else E[T]=D}Array.isArray(c)&&(E.length=P.length),S=c}else if(Array.isArray(r)){for(var j=F(r,f),H=j[0],q=j[1],z=H.length,J=0;J<z;J+=1){var K=H[J];l.insertBefore(K,a)}b.set(q,a),h.set(q,v[t]),S=q}else{var Q=I(r,f),U=Q[0],V=Q[1];l.insertBefore(V,a),S=U}else for(var X=o.childNodes,Y=X.length,Z=0;Z<Y;Z+=1){var $=X[Z];l.insertBefore($.cloneNode(!0),a)}return l.insertBefore(d,a),S}}function D(e,t,r,n){var i=r.node,a=r.event,o=c.get(e),f=o[a];if(f&&i.removeEventListener(a,f,f.options),t){t.isEventListener=!0;var v=t.bind(n);return v.options=t.options,i.addEventListener(a,v,v.options),o[a]=v}}function j(v){var s=(v.content||v).cloneNode(!0),l={};return function v(s,d){for(var c=s.childNodes.length-1,g=0;g<=c;g+=1){var p=s.childNodes[g];if(p.nodeType===Node.ELEMENT_NODE)if(p.tagName===u||p.dataset.key){var m=p.dataset.key||p.name,h=_(2,m),y=p.dataset.template,b=y?A[y]||document.querySelector(y):p;if(void 0===m)throw new TypeError("Missing `name` or `data-key` for slot.");if(delete p.dataset.key,!y&&p.tagName===u)for(b=document.createDocumentFragment();p.childNodes.length;){var N=p.childNodes[0];b.appendChild(N)}s.insertBefore(h,p),l.hasOwnProperty(m)||(l[m]=[]),l[m].push({path:d.concat(g),slot:y?p:document.createElement("div"),template:b,type:e}),p.remove()}else for(var x in p.children.length&&v(p,d.concat(g)),p.dataset){var S=p.dataset[x],w=null;switch(x){case"text":w={type:t};break;case"value":w={type:n};break;case"class":w={type:i};break;case"unsafeHtml":w={type:r}}x.startsWith("attribute")&&(w={type:a,name:x.slice(9).toLowerCase()}),x.startsWith("event")&&(w={type:f,event:x.slice(5).toLowerCase()}),w||(w={type:o,name:x},S||(S=x)),w&&(delete p.dataset[x],p.removeAttribute(x),w.path=d.concat(g),l.hasOwnProperty(S)||(l[S]=[]),l[S].push(w))}}}(s,[]),N.set(v,s),x.set(v,l)}function H(e,t){var r=x.get(t),n={};for(var i in r){n[i]=[];for(var a=r[i],o=a.length,f=0;f<o;f+=1){var v=a[f],s=q(e,v.path);n[i].push(Object.assign({node:s},v))}}return n}function q(e,t){for(var r=e,n=t.length-1,i=0;i<=n;i+=1){var a=t[i];r=r.childNodes[a]}return r}function F(e,t){for(var r,n=[],i=[],a=e.length,o=0;o<a;o+=1){var f=I(e[o],t);i.push(f[0]),n.push(f[1])}return r=new Proxy(i,w),y.set(r,t),[n,r]}function I(e,t){N.get(t)||j(t);var r=N.get(t).cloneNode(!0),n={},i=new Proxy(n,S),a=H(r,t),o=_(0,"proxy"),f=_(1,"proxy"),u=[o,f],y=e[v],b=e[s],x=e[l],w=document.createDocumentFragment();for(var k in b&&p.set(i,b),x&&m.set(i,x),d.set(n,a),c.set(n,{}),g.set(n,{}),e)a.hasOwnProperty(k)||(n[k]=e[k]);for(var k in a)W(n,k,e[k],i,!0);return y&&y.call(i,r),w.appendChild(o),w.appendChild(r),w.appendChild(f),h.set(i,u),[i,w]}function _(e,t){if(G.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function z(e,t){if("string"==typeof t){var r=document.createElement("template");r.innerHTML=t,t=r}return A[e]=t}function G(e,t){return A.hasOwnProperty(t)&&(t=A[t]),I(e,t)}M[t]=function(e,t,r){return r!==e.textContent?e.textContent=r:null},M[r]=function(e,t,r){return r!==e.innerHTML?e.innerHTML=r||"":null},M[n]=function(e,t,r){if(r!==e.value)return e.value=void 0===r?"":r},M[i]=C,M[a]=E,M[o]=P,G.debug=!1,G.isDeferred=!1;export{v as mount,s as unmount,l as move,z as registerTemplate};export default G;
