var e;if(void 0===t)var t=Symbol("slot");if(void 0===r)var r=Symbol("text");if(void 0===n)var n=Symbol("html");if(void 0===a)var a=Symbol("value");if(void 0===i)var i=Symbol("class");if(void 0===o)var o=Symbol("attribute");if(void 0===s)var s=Symbol("data");if(void 0===v)var v=Symbol("event");if(void 0===f)var f=Symbol("mount");if(void 0===l)var l=Symbol("unmount");if(void 0===d)var d="SLOT";if(void 0===u)var u=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===b)var b=new WeakMap;if(void 0===N)var N=new WeakMap;if(void 0===S)var S={set:M,deleteProperty:M};if(void 0===x)var x={set:A,deleteProperty:A};if(void 0===w)var w=[];function A(t,r,n,a,i){if(I.isDeferred&&!i)return k((function(){return e=[],A(t,r,n,a,!0)})),e=[],!0;I.debug&&console.log("setIndex",arguments);var o=Number.parseInt(r,10),s=!Number.isNaN(o),v=void 0!==n;if("length"===r)for(var f=t.length-1,l=n;l<=f;l+=1){var d=t[l],u=m.get(d),c=p.get(d);u&&C(u[0],u[1],c,d),delete t[l]}if(!v&&t[r]){var g=t[r],b=m.get(g),N=p.get(g);C(b[0],b[1],N,g),delete t[r]}if(v){if(!s)return e=[],Reflect.set(t,r,n,a);if(!t.includes(n)){var S=h.get(a),x=S.parentNode,w=y.get(a),M=q(n,w),B=M[0],L=M[1],W=t[r],E=null,P=t.length-1;for(l=o+1;l<=P&&!(E=t[l]);l+=1);if(W&&!t.find((function(e,t){return e===W&&t!==o}))){var R=m.get(W),T=p.get(W);C(R[0],R[1],T,B)}if(E){var D=m.get(E)[0];x.insertBefore(L,D)}else{var O=m.get(a)[1];x.insertBefore(L,O)}return e=[],Reflect.set(t,r,B,a)}var H=t.findIndex((function(e,t){return e===n&&t!==o})),j=t[r];if(j&&n!==j){for(var F=m.get(j),_=F[0],z=F[1],G=m.get(n),J=G[0],K=G[1],Q=G[1].nextSibling,U=Q.parentNode,V=J;!V.isSameNode(K);){var X=V;V=V.nextSibling,U.insertBefore(X,_)}U.insertBefore(K,_);for(var Y=_;!Y.isSameNode(z);){var Z=Y;Y=Y.nextSibling,U.insertBefore(Z,Q)}U.insertBefore(z,Q)}~H&&Reflect.set(t,H,j,a),Reflect.set(t,r,n,a)}return e=[],!0}function k(t){return w.length||requestAnimationFrame((function(){for(var t=w.length;w.length;){w.shift()()}return e=[],I.debug?console.log("queue flushed",t):null})),e=[],w.push(t)}function M(f,l,d,c,g){if(I.isDeferred&&!g)return k((function(){return e=[],M(f,l,d,c,!0)})),e=[],!0;I.debug&&console.log("setProperty",arguments);var p=u.get(f),m=void 0!==d,y=f[l]!==d,h=p[l],b=h&&h.node,N=h&&h.type,S=null==d?"":d;if(Object.prototype.hasOwnProperty.call(p,l)&&(y||g)&&(N===r&&d!==b.textContent&&(b.textContent=S),N===n&&d!==b.innerHTML&&(b.innerHTML=S),N===a&&d!==b.value&&(b.value=S),N===i&&W(b,d),N===o&&B(b,h.name,d),N===s&&L(b,h.name,d),N===v&&P(f,d,h,c),N===t)){var x=E(f,l,d,h,g);if(x)return e=[],Reflect.set(f,l,x,c)}return N!==a||h.isListening||(b.addEventListener("input",(function(e){return Reflect.set(f,l,e.target.value,c)})),h.isListening=!0),m?Reflect.set(f,l,d,c):delete f[l],e=[],!0}function B(e,t,r){return null!=r?t in e?e[t]=r:e.setAttribute(t,r):e.removeAttribute(t)}function L(e,t,r){return null!=r?e.dataset[t]=r:delete e.dataset[t]}function W(e,t){return t?e.className=Array.isArray(t)?t.split(" "):t:e.removeAttribute("class")}function C(t,r,n,a){var i=t,o=i;for(i=i.nextSibling,o.remove();!i.isSameNode(r);)!function(){var e=i;i=i.nextSibling,n?Promise.resolve(n.call(a,e)).then((function(){return e.remove()})):e.remove()}();return e=[],r.remove()}function E(t,r,n,a,i){if(I.debug&&console.log("setSlot",arguments),t[r]||n||i){var o=a.node,s=a.slot,v=a.template,f=g.get(t),l=f[r],d=o.parentNode,u=H(0,r),c=H(1,r),y=t[r],b=Array.isArray(y),N=Array.isArray(n),S=b!==N,x=null;if(l&&(!n||n&&!y||S)){if(Array.isArray(y))for(var w=y.length,A=0;A<w;A+=1){var k=y[A],M=p.get(k),B=m.get(k);B&&C(B[0],B[1],M,k)}else if(y){var L=p.get(y),W=m.get(y);C(W[0],W[1],L,y)}C(l[0],l[1]),delete f[r]}if(f[r]=[u,c],d.insertBefore(u,o),n)if(!y||S)if(Array.isArray(n)){for(var E=O(n,v),P=E[0],R=E[1],T=P.length,D=0;D<T;D+=1){var j=P[D];d.insertBefore(j,o)}h.set(R,o),m.set(R,f[r]),x=R}else{var F=q(n,v),_=F[0],z=F[1];d.insertBefore(z,o),x=_}else{for(var G=b?y:[y],J=N?n:[n],K=J.length-1,Q=0;Q<=K;Q+=1){var U=G[Q],V=J[Q];if(U){for(var r in V)U[r]=V[r];for(var r in U)r in V||delete U[r]}else G[Q]=V}Array.isArray(y)&&(G.length=J.length),x=y}else for(var X=s.childNodes,Y=X.length,Z=0;Z<Y;Z+=1){var $=X[Z];d.insertBefore($.cloneNode(!0),o)}return d.insertBefore(c,o),e=[],x}}function P(e,t,r,n){var a=r.node,i=r.event,o=c.get(e),s=o[i];if(s&&a.removeEventListener(i,s,s.options),t){var v=t.bind(n);return v.options=t.options,a.addEventListener(i,v,v.options),o[i]=v}}function R(f){var l=(f.content||f).cloneNode(!0),u={};return function e(f,l){for(var c=f.childNodes.length-1,g=0;g<=c;g+=1){var p=f.childNodes[g];if(p.nodeType===Node.ELEMENT_NODE)if(p.children.length&&e(p,l.concat(g)),p.tagName!==d&&!p.dataset.key||!p.dataset.template)for(var m in p.dataset){var y=p.dataset[m],h=null;switch(m){case"text":h={type:r};break;case"value":h={type:a};break;case"class":h={type:i};break;case"unsafeHtml":h={type:n}}m.startsWith("attribute")&&(h={type:o,name:m.slice(9).toLowerCase()}),m.startsWith("event")&&(h={type:v,event:m.slice(5).toLowerCase()}),h||(h={type:s,name:m}),h&&(delete p.dataset[m],p.removeAttribute(m),h.path=l.concat(g),u[y]=h)}else{var b=p.dataset.key||p.name,N=H(2,b),S=document.querySelector(p.dataset.template);if(void 0===b)throw new TypeError("Missing `name` or `data-key` for slot.");f.insertBefore(N,p),u[b]={path:l.concat(g),slot:p,template:S,type:t},p.remove()}}}(l,[]),b.set(f,l),e=[],N.set(f,u)}function T(t,r){var n=N.get(r),a={};for(var i in n){var o=n[i],s=D(t,o.path);a[i]=Object.assign({node:s},o)}return e=[],a}function D(e,t){for(var r=e,n=t.length-1,a=0;a<=n;a+=1){var i=t[a];r=r.childNodes[i]}return r}function O(t,r){for(var n,a=[],i=[],o=t.length,s=0;s<o;s+=1){var v=q(t[s],r);i.push(v[0]),a.push(v[1])}return n=new Proxy(i,x),y.set(n,r),e=[],[a,n]}function q(t,r){b.get(r)||R(r);var n=b.get(r).cloneNode(!0),a={},i=new Proxy(a,S),o=T(n,r),s=H(0,"proxy"),v=H(1,"proxy"),d=[s,v],y=t[f],h=t[l],N=document.createDocumentFragment();for(var x in h&&p.set(i,h),u.set(a,o),c.set(a,{}),g.set(a,{}),o)M(a,x,t[x],i,!0);for(var x in t)x in o||(a[x]=t[x]);return y&&y.call(i,n),N.appendChild(s),N.appendChild(n),N.appendChild(v),m.set(i,d),e=[],[i,N]}function H(e,t){if(I.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function I(t,r){return e=[],q(t,r)}I.debug=!1,I.isDeferred=!1;export{f as mount,l as unmount};export default I;
