var e;if(void 0===t)var t="slot";if(void 0===r)var r="text";if(void 0===n)var n="html";if(void 0===i)var i="value";if(void 0===a)var a="class";if(void 0===o)var o="attribute";if(void 0===f)var f="data";if(void 0===s)var s="event";if(void 0===v)var v=Symbol("mount");if(void 0===l)var l=Symbol("unmount");if(void 0===u)var u="SLOT";if(void 0===d)var d=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===b)var b=new WeakMap;if(void 0===N)var N=new WeakMap;if(void 0===x)var x={set:B,deleteProperty:B};if(void 0===w)var w={set:M,deleteProperty:M};if(void 0===A)var A=[];if(void 0===k)var k={};function M(t,r,n,i,a){if(F.isDeferred&&!a)return S((function(){return e=[],M(t,r,n,i,!0)})),e=[],!0;F.debug&&console.log("setIndex",arguments);var o=Number.parseInt(r,10),f=!Number.isNaN(o),s=void 0!==n;if("length"===r)for(var v=t.length-1,l=n;l<=v;l+=1){var u=t[l],d=m.get(u),c=p.get(u);d&&C(d[0],d[1],c,u),delete t[l]}if(!s&&t[r]){var g=t[r],b=m.get(g),N=p.get(g);C(b[0],b[1],N,g),delete t[r]}if(s){if(!f)return e=[],Reflect.set(t,r,n,i);if(!t.includes(n)){var x=y.get(i),w=x.parentNode,A=h.get(i),k=H(n,A),B=k[0],L=k[1],W=t[r],E=null,P=t.length-1;for(l=o+1;l<=P&&!(E=t[l]);l+=1);if(W&&!t.find((function(e,t){return e===W&&t!==o}))){var R=m.get(W),T=p.get(W);C(R[0],R[1],T,B)}if(E){var D=m.get(E)[0];w.insertBefore(L,D)}else{var O=m.get(i)[1];w.insertBefore(L,O)}return e=[],Reflect.set(t,r,B,i)}var j=t.findIndex((function(e,t){return e===n&&t!==o})),q=t[r];if(q&&n!==q){for(var I=m.get(q),_=I[0],z=I[1],G=m.get(n),J=G[0],K=G[1],Q=G[1].nextSibling,U=Q.parentNode,V=J;!V.isSameNode(K);){var X=V;V=V.nextSibling,U.insertBefore(X,_)}U.insertBefore(K,_);for(var Y=_;!Y.isSameNode(z);){var Z=Y;Y=Y.nextSibling,U.insertBefore(Z,Q)}U.insertBefore(z,Q)}~j&&Reflect.set(t,j,q,i),Reflect.set(t,r,n,i)}return e=[],!0}function S(t){return A.length||requestAnimationFrame((function(){for(var t=A.length;A.length;){A.shift()()}return e=[],F.debug?console.log("queue flushed",t):null})),e=[],A.push(t)}function B(r,n,a,o,f){if(F.isDeferred&&!f)return S((function(){return e=[],B(r,n,a,o,!0)})),e=[],!0;F.debug&&console.log("setProperty",arguments);var v=d.get(r),l=void 0!==a,u=r[n]!==a,c=v[n],g=c&&c.node,p=c&&c.type;if(Object.prototype.hasOwnProperty.call(v,n)&&(u||f))if(p in k&&"function"!=typeof a)k[p](g,c.name,a);else if(p===s&&T(r,a,c,o),p===t){var m=R(r,n,a,c,f);if(m)return e=[],Reflect.set(r,n,m,o)}return p!==i||c.isListening||(g.addEventListener("input",(function(e){return Reflect.set(r,n,e.target.value,o)})),c.isListening=!0),l?Reflect.set(r,n,a,o):delete r[n],e=[],!0}function L(e,t,r){return null!=r?t in e?e[t]=r:e.setAttribute(t,r):e.removeAttribute(t)}function W(e,t,r){return null!=r?e.dataset[t]=r:delete e.dataset[t]}function E(e,t,r){return r?e.className=Array.isArray(r)?r.split(" "):r:e.removeAttribute("class")}function C(t,r,n,i){var a=t,o=a;for(a=a.nextSibling,o.remove();!a.isSameNode(r);)!function(){var e=a;a=a.nextSibling,n?Promise.resolve(n.call(i,e)).then((function(){return e.remove()})):e.remove()}();return r.remove(),e=[],P(i)}function P(t,r){for(var n in t){var i=t[n];"object"==typeof i&&null!==i&&P(i,!0)}if(r){var a=p.get(t);return e=[],a?a.call(t):null}}function R(t,r,n,i,a){if(F.debug&&console.log("setSlot",arguments),t[r]||n||a){var o=i.node,f=i.slot,s=i.template,v=g.get(t),l=v[r],u=o.parentNode,d=I(0,r),c=I(1,r),h=t[r],b=Array.isArray(h),N=Array.isArray(n),x=b!==N,w=null;if(l&&(!n||n&&!h||x)){if(Array.isArray(h))for(var A=h.length,k=0;k<A;k+=1){var M=h[k],S=p.get(M),B=m.get(M);B&&C(B[0],B[1],S,M)}else if(h){var L=p.get(h),W=m.get(h);C(W[0],W[1],L,h)}n&&!h?C(l[0],l[1]):(l[0].remove(),l[1].remove())}if(v[r]=[d,c],u.insertBefore(d,o),n)if(!h||x)if(Array.isArray(n)){for(var E=q(n,s),P=E[0],R=E[1],T=P.length,D=0;D<T;D+=1){var O=P[D];u.insertBefore(O,o)}y.set(R,o),m.set(R,v[r]),w=R}else{var j=H(n,s),_=j[0],z=j[1];u.insertBefore(z,o),w=_}else{for(var G=b?h:[h],J=N?n:[n],K=J.length-1,Q=0;Q<=K;Q+=1){var U=G[Q],V=J[Q];if(U){for(var r in V)U[r]=V[r];for(var r in U)r in V||delete U[r]}else G[Q]=V}Array.isArray(h)&&(G.length=J.length),w=h}else for(var X=f.childNodes,Y=X.length,Z=0;Z<Y;Z+=1){var $=X[Z];u.insertBefore($.cloneNode(!0),o)}return u.insertBefore(c,o),e=[],w}}function T(e,t,r,n){var i=r.node,a=r.event,o=c.get(e),f=o[a];if(f&&i.removeEventListener(a,f,f.options),t){t.isEventListener=!0;var s=t.bind(n);return s.options=t.options,i.addEventListener(a,s,s.options),o[a]=s}}function D(v){var l=(v.content||v).cloneNode(!0),d={};return function e(v,l){for(var c=v.childNodes.length-1,g=0;g<=c;g+=1){var p=v.childNodes[g];if(p.nodeType===Node.ELEMENT_NODE)if(p.children.length&&e(p,l.concat(g)),p.tagName!==u&&!p.dataset.key||!p.dataset.template)for(var m in p.dataset){var h=p.dataset[m],y=null;switch(m){case"text":y={type:r};break;case"value":y={type:i};break;case"class":y={type:a};break;case"unsafeHtml":y={type:n}}m.startsWith("attribute")&&(y={type:o,name:m.slice(9).toLowerCase()}),m.startsWith("event")&&(y={type:s,event:m.slice(5).toLowerCase()}),y||(y={type:f,name:m}),y&&(delete p.dataset[m],p.removeAttribute(m),y.path=l.concat(g),d[h]=y)}else{var b=p.dataset.key||p.name,N=I(2,b),x=document.querySelector(p.dataset.template);if(void 0===b)throw new TypeError("Missing `name` or `data-key` for slot.");v.insertBefore(N,p),d[b]={path:l.concat(g),slot:p,template:x,type:t},p.remove()}}}(l,[]),b.set(v,l),e=[],N.set(v,d)}function O(t,r){var n=N.get(r),i={};for(var a in n){var o=n[a],f=j(t,o.path);i[a]=Object.assign({node:f},o)}return e=[],i}function j(e,t){for(var r=e,n=t.length-1,i=0;i<=n;i+=1){var a=t[i];r=r.childNodes[a]}return r}function q(t,r){for(var n,i=[],a=[],o=t.length,f=0;f<o;f+=1){var s=H(t[f],r);a.push(s[0]),i.push(s[1])}return n=new Proxy(a,w),h.set(n,r),e=[],[i,n]}function H(t,r){b.get(r)||D(r);var n=b.get(r).cloneNode(!0),i={},a=new Proxy(i,x),o=O(n,r),f=I(0,"proxy"),s=I(1,"proxy"),u=[f,s],h=t[v],y=t[l],N=document.createDocumentFragment();for(var w in y&&p.set(a,y),d.set(i,o),c.set(i,{}),g.set(i,{}),t)w in o||(i[w]=t[w]);for(var w in o)B(i,w,t[w],a,!0);return h&&h.call(a,n),N.appendChild(f),N.appendChild(n),N.appendChild(s),m.set(a,u),e=[],[a,N]}function I(e,t){if(F.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function F(t,r){return e=[],H(t,r)}k[r]=function(e,t,r){return r!==e.textContent?e.textContent=r:null},k[n]=function(e,t,r){return r!==e.innerHTML?e.innerHTML=r:null},k[i]=function(e,t,r){if(r!==e.value)return e.value=void 0===r?"":r},k[a]=E,k[o]=L,k[f]=W,F.debug=!1,F.isDeferred=!1;export{v as mount,l as unmount};export default F;
