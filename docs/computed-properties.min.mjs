var e=new WeakMap,t=new WeakMap,r=new WeakMap,n=[],o=null,a=Symbol("stackDelimiter"),i={get:u,set:s,deleteProperty:s};function l(){for(o=null;n.length;)n.pop()}function f(){for(var e=n.length-1;e>=0&&n.pop()!==a;e-=1);}function u(e,t,r){return n.push([e,t]),o||(o=setTimeout(l,0)),Reflect.get(e,t,r)}function s(t,r,n,o){if(t[r]===n)return!0;void 0!==n?Reflect.set(t,r,n,o):Reflect.deleteProperty(t,r);var a,i=e.get(t);if(!i)return!0;for(var l=(a=i[r]||[]).length,f=0;f<l;f+=1){var u=a[f],s=u[0],c=u[1],v=u[2].call(s);s[c]=v}return!0}function c(e){return new Proxy(e||{},i)}function v(r){for(var o in r){var i=r[o];if("function"==typeof i){if(i.isEventListener)continue;n.push(a);var l=i.call(r);void 0!==l&&(r[o]=l);for(var u=n.length-1;u>=0&&"symbol"!=typeof n[u];u-=1){var s=n[u],c=s[0],v=s[1],p=null;t.has(r)||t.set(r,[]),t.get(r).push(c),e.has(c)||e.set(c,{}),(p=e.get(c))[v]||(p[v]=[]),p[v].push([r,o,i])}f()}}}function p(r){var n=t.get(r);if(n)for(var o=n.length,a=0;a<o;a+=1){var i=n[a],l=e.get(i);for(var f in l)for(var u=l[f],s=u.length-1;s>=0;s-=1){u[s][0]===r&&u.splice(s,1)}}}function h(e,t){return function(r){var n=r[e],o=r[t];return r[e]=function(){return n&&n.call(this),v(this)},r[t]=function(){return o&&o.call(this),p(this)},r}}export{c as observable,i as observableTraps,c as createSource,h as createComputed};
