var t=new WeakMap,e=new WeakMap,n=[],r=null,u={get:o,set:f,deleteProperty:f};function i(){for(r=null;n.length;)n.pop()}function o(t,e,u){return n.push([t,e]),r||(r=setTimeout(i,0)),Reflect.get(t,e,u)}function f(e,n,r,u){if(e[n]===r)return!0;void 0!==r?Reflect.set(e,n,r,u):Reflect.deleteProperty(e,n);var o,f=t.get(e);if(!f)return!0;for(var l=(o=f[n]||[]).length,a=0;a<l;a+=1){var c=o[a],s=c[0],v=c[1],h=c[2].call(s);s[v]=h,i()}return!0}function l(t){return new Proxy(t,u)}function a(r){for(var u in r){var o=r[u];if("function"==typeof o){if(o.isEventListener)continue;i();var f=o.call(r);void 0!==f&&(r[u]=f);for(var l=n.length,a=0;a<l;a+=1){var c=n[a],s=c[0],v=c[1],h=null;e.has(r)||e.set(r,[]),e.get(r).push(s),t.has(s)||t.set(s,{}),(h=t.get(s))[v]||(h[v]=[]),h[v].push([r,u,o])}}}return i()}function c(n){for(var r=e.get(n),u=r.length,i=0;i<u;i+=1){var o=r[i],f=t.get(o);for(var l in f)for(var a=f[l],c=a.length-1;c>=0;c-=1){a[c][0]===n&&a.splice(c,1)}}}function s(t,e){return function(n){var r=n[t],u=n[e];return n[t]=function(){return r&&r.call(this),a(this)},n[e]=function(){return u&&u.call(this),c(this)},n}}export{l as createSource,s as createComputed};
