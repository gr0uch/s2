var e;if(void 0===t)var t=Symbol("slot");if(void 0===r)var r=Symbol("text");if(void 0===n)var n=Symbol("html");if(void 0===a)var a=Symbol("value");if(void 0===o)var o=Symbol("class");if(void 0===i)var i=Symbol("attribute");if(void 0===v)var v=Symbol("event");if(void 0===s)var s=Symbol("mount");if(void 0===l)var l=Symbol("unmount");if(void 0===f)var f="SLOT";if(void 0===d)var d=new WeakMap;if(void 0===u)var u=new WeakMap;if(void 0===c)var c=new WeakMap;if(void 0===p)var p=new WeakMap;if(void 0===g)var g=new WeakMap;if(void 0===m)var m=new WeakMap;if(void 0===y)var y=new WeakMap;if(void 0===h)var h=new WeakMap;if(void 0===b)var b=new WeakMap;if(void 0===N)var N={set:x,deleteProperty:x};if(void 0===S)var S={set:w,deleteProperty:w};function w(t,r,n,a){T.debug&&console.log("setIndex",arguments);var o=Number.parseInt(r,10),i=!Number.isNaN(o),v=4===arguments.length,s=2===arguments.length;if("length"===r)for(var l=t.length-1,f=n;f<=l;f+=1){var d=t[f],u=g.get(d),c=p.get(d);u&&M(u[0],u[1],c,d),delete t[f]}if(s&&t[r]){var h=t[r],b=g.get(h),N=p.get(h);M(b[0],b[1],N,h),delete t[r]}if(v&&!i)return e=[],Reflect.set(t,r,n,a);if(v){if(!t.includes(n)){var S=y.get(a),w=S.parentNode,x=m.get(a),A=P(n,x),k=A[0],B=A[1],L=t[r],W=null,C=t.length-1;for(f=o+1;f<=C&&!(W=t[f]);f+=1);if(L&&!t.find((function(e,t){return e===L&&t!==o}))){var E=g.get(L),O=p.get(L);M(E[0],E[1],O,k)}if(W){var R=g.get(W)[0];w.insertBefore(B,R)}else{var j=g.get(a)[1];w.insertBefore(B,j)}return e=[],Reflect.set(t,r,k,a)}var H=t.findIndex((function(e,t){return e===n&&t!==o})),I=t[r];if(I&&n!==I){for(var D=g.get(I),q=D[0],F=D[1],_=g.get(n),z=_[0],G=_[1],J=_[1].nextSibling,K=J.parentNode,Q=z;!Q.isSameNode(G);){var U=Q;Q=Q.nextSibling,K.insertBefore(U,q)}K.insertBefore(G,q);for(var V=q;!V.isSameNode(F);){var X=V;V=V.nextSibling,K.insertBefore(X,J)}K.insertBefore(F,J)}~H&&Reflect.set(t,H,I,a),Reflect.set(t,r,n,a)}return e=[],!0}function x(s,l,f,u){var c=d.get(s),p=4===arguments.length,g=2===arguments.length,m=s[l]!==f,y=c[l],h=y.node,b=y.type,N=null==f?"":f;if(Object.prototype.hasOwnProperty.call(c,l)&&m&&(b===r&&f!==h.textContent&&(h.textContent=N),b===n&&f!==h.innerHTML&&(h.innerHTML=N),b===a&&f!==h.value&&(h.value=N),b===o&&k(h,f),b===i&&A(h,y.name,f),b===v&&L(s,f,y,u),b===t)){var S=B(s,l,f,y);if(S)return e=[],Reflect.set(s,l,S,u)}return b!==a||y.isListening||(h.addEventListener("input",(function(e){return Reflect.set(s,l,e.target.value,u)})),y.isListening=!0),g&&delete s[l],p&&Reflect.set(s,l,f,u),e=[],!0}function A(e,t,r){return null==r?e.setAttribute(t,r):e.removeAttribute(t)}function k(e,t){if(t){for(var r=e.classList,n=Object.getPrototypeOf(t),a=n===Set.prototype?t.values():n===Array.prototype?t:n===String.prototype?t.split(" "):[],o=r.values(),i=o.length,v=0;v<i;v+=1){var s=o[v];a.includes(s)||r.remove(s)}for(var l=a.length,f=0;f<l;f+=1){var d=a[f];r.contains(d)||r.add(d)}}else e.removeAttribute("class");return null}function M(t,r,n,a){var o=t,i=o;for(o=o.nextSibling,i.remove();!o.isSameNode(r);)!function(){var e=o;o=o.nextSibling,n?Promise.resolve(n.call(a,e)).then((function(){return e.remove()})):e.remove()}();return e=[],r.remove()}function B(t,r,n,a){if(t[r]||n){var o=a.node,i=a.slot,v=a.template,s=c.get(t),l=s[r],f=o.parentNode,d=R(0,r),u=R(1,r),m=t[r],h=Array.isArray(m),b=Array.isArray(n),N=h!==b,S=null;if(l&&(!n||n&&!m||N)){if(Array.isArray(m))for(var w=m.length,x=0;x<w;x+=1){var A=m[x],k=p.get(A),B=g.get(A);B&&M(B[0],B[1],k,A)}else if(m){var L=p.get(m),W=g.get(m);M(W[0],W[1],L,m)}M(l[0],l[1]),delete s[r]}if(s[r]=[d,u],f.insertBefore(d,o),n)if(!m||N)if(Array.isArray(n)){for(var C=O(n,v),E=C[0],T=C[1],j=E.length,H=0;H<j;H+=1){var I=E[H];f.insertBefore(I,o)}y.set(T,o),g.set(T,s[r]),S=T}else{var D=P(n,v),q=D[0],F=D[1];f.insertBefore(F,o),S=q}else{for(var _=h?m:[m],z=b?n:[n],G=z.length-1,J=0;J<=G;J+=1){var K=_[J],Q=z[J];if(K){for(var r in Q)K[r]=Q[r];for(var r in K)Q.hasOwnProperty(r)||delete K[r]}else _[J]=Q}Array.isArray(m)&&(_.length=z.length),S=m}else for(var U=i.childNodes,V=U.length,X=0;X<V;X+=1){var Y=U[X];f.insertBefore(Y.cloneNode(!0),o)}return f.insertBefore(u,o),e=[],S}}function L(e,t,r,n){var a=r.node,o=r.event,i=u.get(e),v=i[o];if(v&&a.removeEventListener(o,v,v.options),t){var s=t.bind(n);return s.options=t.options,a.addEventListener(o,s,s.options),i[o]=s}}function W(s){var l=(s.content||s).cloneNode(!0),d={};return function e(s,l){for(var u=s.childNodes.length-1,c=0;c<=u;c+=1){var p=s.childNodes[c];if(p.nodeType===Node.ELEMENT_NODE)if(p.children.length&&e(p,l.concat(c)),p.tagName===f||p.dataset.template){var g=p.dataset.key||p.name,m=R(2,g),y=document.querySelector(p.dataset.template);if(void 0===g)throw new TypeError("Missing `name` or `data-key` for slot.");s.insertBefore(m,p),d[g]={path:l.concat(c),slot:p,template:y,type:t},p.remove()}else for(var h in p.dataset){var b=p.dataset[h],N=null;switch(h){case"text":N={type:r};break;case"value":N={type:a};break;case"class":N={type:o};break;case"unsafeHtml":N={type:n}}h.startsWith("attribute")&&(N={type:i,name:h.slice(9).toLowerCase()}),h.startsWith("event")&&(N={type:v,event:h.slice(5).toLowerCase()}),N&&(delete p.dataset[h],p.removeAttribute(h),N.path=l.concat(c),d[b]=N)}}}(l,[]),h.set(s,l),e=[],b.set(s,d)}function C(t,r){var n=b.get(r),a={};for(var o in n){var i=n[o],v=E(t,i.path);a[o]=Object.assign({node:v},i)}return e=[],a}function E(e,t){for(var r=e,n=t.length-1,a=0;a<=n;a+=1){var o=t[a];r=r.childNodes[o]}return r}function O(t,r){for(var n,a=[],o=[],i=t.length,v=0;v<i;v+=1){var s=P(t[v],r);o.push(s[0]),a.push(s[1])}return n=new Proxy(o,S),m.set(n,r),e=[],[a,n]}function P(t,r){h.get(r)||W(r);var n=h.get(r).cloneNode(!0),a={},o=new Proxy(a,N),i=C(n,r),v=R(0,"proxy"),f=R(1,"proxy"),m=[v,f],y=t[s],b=t[l],S=document.createDocumentFragment();for(var w in y&&y.call(o,n),b&&p.set(o,b),S.appendChild(v),S.appendChild(n),S.appendChild(f),g.set(o,m),d.set(a,i),u.set(a,{}),c.set(a,{}),i)x(a,w,t[w],o);return e=[],[o,S]}function R(e,t){if(T.debug){var r=(0===e?"start":1===e?"end":"anchor")+" "+t;return document.createComment(r)}return document.createTextNode("")}function T(t,r){return e=[],P(t,r)}export{s as mount,l as unmount};export default T;
